language: ruby
rvm:
  - "1.8.7-p374"
  - "1.9.2"
  - "1.9.3"
  - "2.0.0"
  - "2.1.5"
env:
  - PUPPET_GEM_VERSION="~> 3.7"
  - PUPPET_GEM_VERSION="~> 4.0"
matrix:
  exclude:
    - rvm: 1.8.7-p374
      env: PUPPET_GEM_VERSION="~> 4.0"
    - rvm: 1.9.2
      env: PUPPET_GEM_VERSION="~> 4.0"
  allow_failures:
    - env: PUPPET_GEM_VERSION="~> 4.0"
before_install:
  - sudo apt-get update
  - sudo apt-get install expect
script:
  bundle exec cucumber -f progress
notifications:
  email: false
